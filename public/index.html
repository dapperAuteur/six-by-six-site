<!DOCTYPE html>
<html>
<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-10207332-27"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-10207332-27');
  </script>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>SixBySix</title>
  <link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Quicksand" rel="stylesheet">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="assets/css/styles.css">
</head>
<body>
    <div id="fb-root"></div>
    <script>
        window.fbAsyncInit = function() {
            FB.init({
            appId      : '548140405619645', // 1645178768938930 old appId that Awe Ful created
            cookie     : true,
            xfbml      : true,
            version    : 'v3.1'
            });
            
            // FB.AppEvents.logPageView();   

            FB.getLoginStatus(function(response) {
                statusChangeCallback(response);
            });
            
        };
        
        (function(d, s, id){
            var js, fjs = d.getElementsByTagName(s)[0];
            if (d.getElementById(id)) {return;}
            js = d.createElement(s); js.id = id;
            js.src = "https://connect.facebook.net/en_US/sdk.js#xfbml=1&version=v3.1&appId=548140405619645&autoLogAppEvents=1";
            fjs.parentNode.insertBefore(js, fjs);
            }(document, 'script', 'facebook-jssdk'));
        
        function statusChangeCallback(response) {
          /*
            response = {
              status: 'connected',
              authResponse: {
                  accessToken: '...',
                  expiresIn:'...',
                  signedRequest:'...',
                  userID:'...'
              }
            }
          */
            if (response.status === 'connected') {
                console.log('Logged in & authenticated');
                console.log(response);
                let currentUserId = response.authResponse.userID;
                let currentUserAccessToken = response.authResponse.accessToken;
                // make call to friends and get user data
                // place user data in db
                // display user game status
            } if (response.status === 'authorization_expired') {
                console.log('logged in previously but app authorization to access data expired');
                console.log(response);
                // ask user to reauthorize app to participate
                // ask user if they want to see their game status
            } if (response.status === 'not_authorized') {
                console.log('logged into fb but no app authorization to access data');
                console.log(response);
                // invite user to participate in challenge
            } if (response.status === 'unknown') {
                console.log("user is either not logged into Facebook or explicitly logged out of your application so it doesn't attempt to connect to Facebook and thus, we don't know if they've authenticated your application or not.");
                console.log(response);
                // invite user to login to fb and participate in challenge
            } else {
                console.log("not unknown but not known why");
                console.log(response);
                // invite user to login to fb and participate in challenge
            }
        }

        function checkLoginState() {
        FB.getLoginStatus(function(response) {
            statusChangeCallback(response);
        });
        }

    </script>
    <!-- Load Facebook SDK for JavaScript -->
    
    <script>(function(d, s, id) {
        var js, fjs = d.getElementsByTagName(s)[0];
        if (d.getElementById(id)) return;
        js = d.createElement(s); js.id = id;
        js.src = 'https://connect.facebook.net/en_US/sdk/xfbml.customerchat.js#xfbml=1&version=v2.12&autoLogAppEvents=1';
        fjs.parentNode.insertBefore(js, fjs);
        }(document, 'script', 'facebook-jssdk'));
        window.extAsyncInit = function() {
        // the Messenger Extensions JS SDK is done loading
        console.log("the Messenger Extensions JS SDK is done loading");
        };
    </script>
    

    <!-- Your customer chat code -->
    <div class="fb-customerchat"
        attribution=install_email
        page_id="1859439217470688"
        logged_in_greeting="Congrats on accepting the #sixbysix challenge! Are you registered to vote?"
        logged_out_greeting="Hi! Would you like to accept the #sixbysix challenge. Login using Facebook!">
    </div>
  <!-- Forked from a template on Tutorialzine: https://tutorialzine.com/2016/06/freebie-landing-page-template-with-flexbox -->
  <header>
    <h2><a href="/">SixBySix</a></h2>
    <nav>
      <li><a href="https://js-react-todo-0002.firebaseapp.com/privacy-policy.html">Privacy Policy</a></li>
      <li><a href="https://js-react-todo-0002.firebaseapp.com/terms-of-service.html">Terms of Service</a></li>
      <li><a href="#">About</a></li>
      <li><a href="#">Contact</a></li>
    </nav>
  </header>

  <section class="hero">
    <div class="background-image" style="background-image: url(assets/img/main.jpg);"></div>
    <div class="hero-content-area">
      <h1>SixBySix Challenge</h1>
      <h3>Share To Change Your World</h3>
        <fb:login-button
            class="fb-login-button"
            data-max-rows="1" data-size="large"
            data-button-type="continue_with"
            data-show-faces="true"
            data-auto-logout-link="false"
            data-use-continue-as="true" 
            scope="public_profile,email,user_friends"
            onlogin="checkLoginState();">
        </fb:login-button>
    </div>
  </section>
  <section class="destinations">
      <div
        class="fb-share-button" data-href="https://js-react-todo-0002.firebaseapp.com/" data-layout="button" data-size="large" data-mobile-iframe="true"><a target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fjs-react-todo-0002.firebaseapp.com%2F&amp;src=sdkpreparse" class="fb-xfbml-parse-ignore">Share</a>
      </div>
  </section>
  
  <section class="destinations">
    <h3 class="title">Participation Is How You Invoke Change:</h3>
    <p>Register, Vote, Share. Repeat!</p>
    <hr>

    <ul class="grid">
      <li class="small" style="background-image: url(assets/img/mountain1.jpg);"></li>
      <li class="large" style="background-image: url(assets/img/mountain2.jpg);"></li>
      <li class="large" style="background-image: url(assets/img/mountain3.jpg);"></li>
      <li class="small" style="background-image: url(assets/img/mountain4.jpg);"></li>
    </ul>
  </section>

  <section class="packages">
    <h3 class="title">Particpate How</h3>
    <p>There are many ways to participate. Register, vote, and vote early. Encourage friends/family to register, vote, and vote early.</p>
    <hr>

    <ul class="grid">
      <li>
        <i class="fa fa-compass fa-4x"></i>
        <h4>Carpool To The Polls</h4>
        <p>Do you have transportation? Do you need transportation? Communicate with those in your community, your friends, and family.</p>
      </li>
      <li>
        <i class="fa fa-camera-retro fa-4x"></i>
        <h4>Share Your Experience</h4>
        <p>Take pictures and share on social media.</p>
      </li>
      <li>
        <i class="fa fa-bicycle fa-4x"></i>
        <h4>Bike To The Polls</h4>
        <p>If bicycles are more your speed, consider taking a ride to the polls. Make it a bike party.</p>
      </li>
      <li>
        <i class="fa fa-flag-checkered fa-4x"></i>
        <h4>Register The Most</h4>
        <p>Got a competitive spirit? Sign up others to the #sixbysix campaign! Try to get all six of your friends to complete the challenge before anyone else.</p>
      </li>
    </ul>
  </section>

  

  <section class="contact">
    <h3 class="title">Learn more</h3>
    <p>Want to know about the #sixbysix challenge. No spam from us, we promise!</p>
    <hr>
    <form>
      <input type="email" placeholder="Email">
      <a href="#" class="btn">Participate</a>
    </form>
  </section>
  <h1 id="bigOne"></h1>
  <footer>
    <p>Images courtesy of <a href="http://unsplash.com/">unsplash</a>.</p>
    <p>Why are you even reading this?! There's never anything interesting in the footer!</p>
    <ul>
      <li><a href="https://www.facebook.com/sixbysixvote"><i class="fa fa-snapchat-square fa-2x"></i></a></li>
    </ul>
  </footer>
  <script src="https://www.gstatic.com/firebasejs/5.4.0/firebase.js"></script>
  <script>
    // Initialize Firebase
    var config = {
      apiKey: "AIzaSyBAzIzxb7lUHEgs4270yiInGydxejJi5V8",
      authDomain: "js-react-todo-0002.firebaseapp.com",
      databaseURL: "https://js-react-todo-0002.firebaseio.com",
      projectId: "js-react-todo-0002",
      storageBucket: "js-react-todo-0002.appspot.com",
      messagingSenderId: "176868447038"
    };
    firebase.initializeApp(config);
    var bigOne = document.getElementById("bigOne");
    var dbRef = firebase.database().ref().child("text");
    dbRef.on("value", snap => bigOne.innerText = snap.val());
  </script>
</body>
</html>
